!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(window,function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";e.exports={debounce:function(e,t,n){var r=void 0;return function(){var o=this,i=arguments,c=n&&!r;clearTimeout(r),r=setTimeout(function(){r=null,n||e.apply(o,i)},t),c&&e.apply(o,i)}},createEvent:function(e){if(document.createEvent){var t=document.createEvent("CustomEvent");return t.initEvent(e,!0,!0),t}return new Event(e)}}},function(e,t,n){"use strict";var r=n(0).createEvent,o=n(2).lazyLoadImage,i="lazyload",c=r(i),a="data-lazy-src",u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=Array.from(document.querySelectorAll(t));n.length?(this.images=n.map(function(e){return{image:e,resolved:!1,src:function(e){var t=e.getAttribute(a);if(t)return t;var n=Array.from(e.children).map(function(e){return e.constructor===HTMLVideoElement?Array.from(e.children).map(function(e){return e.getAttribute(a)}):e.getAttribute(a)});return[].concat.apply([],n)}(e)}}),this.images.forEach(function(e){e.image.addEventListener(i,o.bind(e))})):console.warn("No elements matching the selector "+t+" were found, LazyLoad could not initialise")}return e.prototype.fireLazyLoadEvent=function(e){e.dispatchEvent(c)},e}();e.exports={LazyLoad:u}},function(e,t,n){"use strict";var r=n(0).createEvent,o=r("lazyloadcomplete"),i=r("lazyloaderror");function c(e,t){return new Promise(function(n,r){function o(){c(),n(!0)}function i(){c(),r(!1)}function c(){t.removeEventListener("load",o),t.removeEventListener("error",i)}if(t.addEventListener("load",o),t.addEventListener("error",i),t.parentNode&&t.parentNode.constructor===window.HTMLPictureElement||t.parentNode&&void 0===window.HTMLPictureElement&&t.parentNode.constructor===window.HTMLUnknownElement||t.parentNode&&void 0===window.HTMLPictureElement&&t.parentNode.constructor===window.HTMLElement){var a=0;Array.from(t.parentNode.children).forEach(function(t){t.constructor!==HTMLVideoElement?(t.setAttribute("srcset",e[a]),a++):Array.from(t.children).forEach(function(t){t.setAttribute("srcset",e[a]),a++})})}else t.setAttribute("src",e)})}function a(e){switch(!0){case e.constructor===HTMLImageElement:return u;case e.constructor===window.HTMLPictureElement||void 0===window.HTMLPictureElement&&e.constructor===window.HTMLUnknownElement||void 0===window.HTMLPictureElement&&e.constructor===window.HTMLElement:return function(){};default:return s}}function u(e,t){e.setAttribute("src",t)}function s(e,t){e.style.backgroundImage="url("+t+")"}e.exports={lazyLoadImage:function(){var e=this.image,t=this.src,n=new Image;(e.constructor===window.HTMLPictureElement||void 0===window.HTMLPictureElement&&e.constructor===window.HTMLUnknownElement||void 0===window.HTMLPictureElement&&e.constructor===window.HTMLElement)&&(n=e.querySelector("img"));var r=a(e);c(t,n).then(function(){r(e,t),e.dispatchEvent(o)}).catch(function(t){e.dispatchEvent(i)})},loadImage:c,getOnLoadCallback:a,onShowImage:u,onShowBackgroundImage:s}},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):function(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}}(e,t))}var i=n(1).LazyLoad,c=n(0).debounce,a="data-lazy-target",u=function(e){function t(n,o){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var i=r(this,e.call(this,n));if(!i.images)return console.warn("No elements matching the selector "+n+"\n\t\t\t\twere found, LazyProximity could not initialise"),r(i);var a=s.call(i,o);return a.length?(i.images=i.images.map(function(e){var t=void 0,n=void 0;return a.forEach(function(r){r.targets.some(function(t){return t===e.image})&&(t=r.trigger,n=r.onClickCallback)}),Object.assign({},e,{lazyProximityTrigger:t,onClickCallback:n})}),i.onMouseOver=c(function(e){var t=this,n=(r=this.images,r.filter(function(e){return!e.resolved}));var r;if(0===n.length)return void document.removeEventListener("mouseover",this.onMouseOver);var o=e.clientX,i=e.clientY,c=document.elementFromPoint(o,i);n.forEach(function(e){var n=e.lazyProximityTrigger,r=e.onClickCallback,o=e.image;n&&(n===c||n.contains(c))&&(t.fireLazyLoadEvent(o),e.resolved=!0,n.removeEventListener("click",r))})}.bind(i),100),document.addEventListener("mouseover",i.onMouseOver),i):(console.warn("No elements matching the selector "+a+"\n\t\t\t\twere found, LazyProximity could not initialise"),r(i))}return o(t,e),t}(i);function s(e){var t=this;return Array.from(document.querySelectorAll(e)).map(function(e){var n=Array.from(document.querySelectorAll(e.getAttribute(a))),r=function(e){var t=this,n=e.target;this.images.forEach(function(e){var r=e.lazyProximityTrigger,o=e.image,i=e.onClickCallback;r&&(r===n||r.contains(n))&&(t.fireLazyLoadEvent(o),e.resolved=!0,r.removeEventListener("click",i))})}.bind(t);return e.addEventListener("click",r),{trigger:e,targets:n,onClickCallback:r}})}e.exports={LazyProximity:u,getProximityTriggers:s}}])});